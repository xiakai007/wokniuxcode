<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>用户增加</title>
    <script>
        function preview(){
            var fileReader = new FileReader;
            var file = document.getElementById("headimg").files[0];
            fileReader.readAsDataURL(file);
            fileReader.onload=function(e){
                document.getElementById("show").src=this.result;
            }
        }
    </script>
</head>
<body>
<h2>用户增加页面</h2>
<form action="doRegister" method="post" enctype="multipart/form-data">
    <table border="1px">
        <tbody>
        <tr>
            <td>手机：</td>
            <td><input type="text" name="telephone"></td>
        </tr>
        <tr>
            <td>密码：</td>
            <td><input type="password" name="PASSWORD"></td>
        </tr>
        <tr>
            <td>姓名：</td>
            <td><input type="text" name="realname"></td>
        </tr>
        <tr>
            <td>生日：</td>
            <td><input type="date" name="birthday"></td>
        </tr>
        <tr>
            <td>所属部门：</td>
            <td>
                <select name="dept.id">
                    <option th:each="dept:${deptList}" th:value="${dept.id}" th:text="${dept.dname}"></option>
                </select>
            </td>
        </tr>
        <tr>
            <td>用户角色：</td>
            <td>
                <input type="checkbox"
                       th:each="role,roleStat:${roleList}"
                       th:text="${role.rolename}"
                       th:name="roleList[__${roleStat.index}__].id"
                       th:value="${role.id}">
            </td>
        </tr>
        <tr>
            <td>头像：</td>
            <td><input type="file" name="avatar" id="headimg" onchange="preview()"></td>
        </tr>
        <tr>
            <td colspan="2">
                <div style="margin-top:3px;">
                    <img src="../static/images/user_ico.gif" id="show" width="100px" height="100px">
                </div>
            </td>
        </tr>
        <tr>
            <td colspan="2"><input type="submit" value="注册"></td>
        </tr>
        </tbody>
    </table>
</form>
</body>
</html>