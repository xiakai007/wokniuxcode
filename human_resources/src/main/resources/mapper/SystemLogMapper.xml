<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.isoftstone.humanresources.dao.SystemLogDao">

    <insert id="add" parameterType="com.isoftstone.humanresources.domain.SysLog">
         insert into
        t_operation_logger
        (
        operationObject,
        operationType,
        employeeID,
        changeTime,
        operationResult,
        changeRecord,
        operationIP,
        operationModule,
        loginName
        )
        values(
        #{operationObject},
        #{operationType},
        #{employeeID},
        #{changeTime},
        #{operationResult},
        #{changeRecord},
        #{operationIP},
        #{operationModule},
        #{loginName}
        )

    </insert>


    <select id="queryLogList" parameterType="com.isoftstone.humanresources.domain.QuerySystemLogParam"
            resultType="com.isoftstone.humanresources.domain.SysLog">
        SELECT
        operationID,
        operationObject,
        operationType,
        employeeID,
        changeTime,
        operationResult,
        changeRecord,
        operationIP,
        operationModule,
        loginName
        FROM
        t_operation_logger
        <where>
            <if test="employeeID != null">
                employeeID=#{employeeID,jdbcType=INTEGER}
            </if>
            <if test="loginName != null and loginName !=''">
                and  loginName=#{loginName,jdbcType=VARCHAR}
            </if>
        </where>
    </select>


    <!--删除用户-->
    <delete id="deleteSysLog" >
        delete
        from
        t_operation_logger

    </delete>
</mapper>